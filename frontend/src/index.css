@tailwind base;
@tailwind components;
@tailwind utilities;

/* Base styles */
body {
  font-family: system-ui, -apple-system, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overscroll-behavior: none;
}

/* PWA safe area support */
html {
  padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
}

/* Prevent pull-to-refresh on mobile */
html, body {
  overscroll-behavior-y: contain;
}

/* Touch-friendly tap targets */
@layer utilities {
  .touch-target {
    @apply min-h-[44px] min-w-[44px];
  }
}

/* Mobile-optimized scrolling */
.scroll-smooth {
  -webkit-overflow-scrolling: touch;
}

/* Hide scrollbar but keep functionality */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* Mobile input styles - prevent zoom on iOS */
@media screen and (max-width: 768px) {
  input, select, textarea {
    font-size: 16px !important;
  }
}

/* Bottom navigation safe area */
.pb-safe {
  padding-bottom: max(1rem, env(safe-area-inset-bottom));
}

/* Standalone PWA styles */
@media all and (display-mode: standalone) {
  body {
    -webkit-user-select: none;
    user-select: none;
  }
  
  /* Add extra padding for notched devices */
  .pwa-header {
    padding-top: env(safe-area-inset-top);
  }
}

/* Responsive table wrapper */
.table-responsive {
  @apply overflow-x-auto -mx-4 px-4;
}

/* Card touch feedback */
.card-touch {
  @apply active:scale-[0.98] transition-transform duration-100;
}

/* Loading spinner */
.spinner {
  @apply animate-spin rounded-full border-2 border-gray-300 border-t-crm-purple;
}

@layer components {
  .glass-panel {
    @apply bg-white/70 backdrop-blur-md border border-white/60 shadow-soft rounded-3xl;
  }
  
  .glass-panel-dark {
    @apply bg-crm-dark text-white border border-white/10 shadow-xl rounded-3xl;
  }
  
  .glass-button {
    @apply px-4 py-2 rounded-xl transition-all duration-300 active:scale-95;
  }
  
  .glass-button-primary {
    @apply bg-crm-purple text-white shadow-glow-purple hover:bg-crm-highlight;
  }
  
  .nav-item-active {
    @apply bg-crm-purple text-white shadow-glow-purple scale-105;
  }
  
  .nav-item {
    @apply text-gray-500 hover:bg-white/50 hover:text-crm-purple transition-all duration-200;
  }
}
